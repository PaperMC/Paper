From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: Mariell Hoversholm <proximyst@proximyst.com>
Date: Sun, 23 Aug 2020 19:01:04 +0200
Subject: [PATCH] Don't require FACING data


diff --git a/src/main/java/net/minecraft/core/dispenser/DefaultDispenseItemBehavior.java b/src/main/java/net/minecraft/core/dispenser/DefaultDispenseItemBehavior.java
index f7e60cdfa0b3f5970a897b5d52aaa72210f2fa57..ab8e69f9fc38012844ce01bd0cc5be8de2fcf4ab 100644
--- a/src/main/java/net/minecraft/core/dispenser/DefaultDispenseItemBehavior.java
+++ b/src/main/java/net/minecraft/core/dispenser/DefaultDispenseItemBehavior.java
@@ -14,20 +14,22 @@ import org.bukkit.event.block.BlockDispenseEvent;
 // CraftBukkit end
 
 public class DefaultDispenseItemBehavior implements DispenseItemBehavior {
+    private Direction enumdirection; // Paper
 
     public DefaultDispenseItemBehavior() {}
 
     @Override
     public final ItemStack dispense(BlockSource pointer, ItemStack stack) {
+        enumdirection = pointer.getBlockState().getValue(DispenserBlock.FACING); // Paper - cache facing direction
         ItemStack itemstack1 = this.execute(pointer, stack);
 
         this.playSound(pointer);
-        this.playAnimation(pointer, (Direction) pointer.getBlockState().getValue(DispenserBlock.FACING));
+        this.playAnimation(pointer, enumdirection); // Paper - cache facing direction
         return itemstack1;
     }
 
     protected ItemStack execute(BlockSource pointer, ItemStack stack) {
-        Direction enumdirection = (Direction) pointer.getBlockState().getValue(DispenserBlock.FACING);
+        // Paper - cached enum direction
         Position iposition = DispenserBlock.getDispensePosition(pointer);
         ItemStack itemstack1 = stack.split(1);
 
