From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: Abel <abelvanhulst@gmail.com>
Date: Tue, 12 Nov 2024 22:25:35 +0100
Subject: [PATCH] API to allow/disallow tick sleeping


diff --git a/src/main/java/org/bukkit/Server.java b/src/main/java/org/bukkit/Server.java
index 0b78564256ebc647ebac402e549d86ab6e307c8d..d148ccd4481b42da4d22fba26664df3fd18bc316 100644
--- a/src/main/java/org/bukkit/Server.java
+++ b/src/main/java/org/bukkit/Server.java
@@ -50,6 +50,7 @@ import org.bukkit.packs.ResourcePack;
 import org.bukkit.permissions.Permissible;
 import org.bukkit.plugin.PluginManager;
 import org.bukkit.plugin.ServicesManager;
+import org.bukkit.plugin.java.JavaPlugin;
 import org.bukkit.plugin.messaging.Messenger;
 import org.bukkit.plugin.messaging.PluginMessageRecipient;
 import org.bukkit.profile.PlayerProfile;
@@ -2572,4 +2573,16 @@ public interface Server extends PluginMessageRecipient, net.kyori.adventure.audi
      */
     boolean isOwnedByCurrentRegion(@NotNull Entity entity);
     // Paper end - Folia region threading API
+
+    // Paper start - API to allow/disallow tick sleeping
+    /**
+     * Allow or disallow the server to sleep/pause.This only effects the next time the server is paused. If the server is currently paused, it will only go out of sleep when someone joins.
+     * When only one plugin disallows pausing, the server will never pause.
+     * If there isn't any pausing configured, the server will never pause.
+     * @param plugin The {@link JavaPlugin} that's allowing or disallowing pausing.
+     * @param value Whether to allow sleeping of the server (defaults to true).
+     */
+    void allowPausing(@NotNull JavaPlugin plugin, boolean value);
+    // Paper end - API to allow/disallow tick sleeping
+
 }
