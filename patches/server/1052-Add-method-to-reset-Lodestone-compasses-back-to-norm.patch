From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: DerEchtePilz <81232921+DerEchtePilz@users.noreply.github.com>
Date: Tue, 20 Aug 2024 12:38:55 +0200
Subject: [PATCH] Add method to reset Lodestone compasses back to normal ones


diff --git a/src/main/java/org/bukkit/craftbukkit/inventory/CraftMetaCompass.java b/src/main/java/org/bukkit/craftbukkit/inventory/CraftMetaCompass.java
index 6362df65424e53098701b8d54c74b5905648b78a..1fb90283de83b2fdc33247c4cb63f7a98853914f 100644
--- a/src/main/java/org/bukkit/craftbukkit/inventory/CraftMetaCompass.java
+++ b/src/main/java/org/bukkit/craftbukkit/inventory/CraftMetaCompass.java
@@ -137,6 +137,7 @@ public class CraftMetaCompass extends CraftMetaItem implements CompassMeta {
             this.lodestoneY = lodestone.getBlockY();
             this.lodestoneZ = lodestone.getBlockZ();
         }
+        this.tracked = true; // Paper - Add a method to reset Lodestone compasses back to normal ones
     }
 
     boolean hasLodestoneTracked() {
@@ -153,6 +154,14 @@ public class CraftMetaCompass extends CraftMetaItem implements CompassMeta {
         this.tracked = tracked;
     }
 
+    // Paper start - Add a method to reset Lodestone compasses back to normal ones
+    @Override
+    public void clearLodestone() {
+        this.lodestoneWorld = null;
+        this.tracked = null;
+    }
+    // Paper end - Add a method to reset Lodestone compasses back to normal ones
+
     @Override
     int applyHash() {
         final int original;
