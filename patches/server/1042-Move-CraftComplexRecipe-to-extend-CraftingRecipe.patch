From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: Bjarne Koll <lynxplay101@gmail.com>
Date: Fri, 19 Jul 2024 17:27:38 +0200
Subject: [PATCH] Move CraftComplexRecipe to extend CraftingRecipe

A craft complex recipe wraps a CustomRecipe, which itself is a
CraftingRecipe.
As such, this complex recipe should also be a crafting recipe.

diff --git a/src/main/java/org/bukkit/craftbukkit/inventory/CraftComplexRecipe.java b/src/main/java/org/bukkit/craftbukkit/inventory/CraftComplexRecipe.java
index dcaeaa3367351eb54e2cf8e62be19ecc125a4bb4..93426b40b9ce2c70f95a2cf81b0c15cc63abcb6a 100644
--- a/src/main/java/org/bukkit/craftbukkit/inventory/CraftComplexRecipe.java
+++ b/src/main/java/org/bukkit/craftbukkit/inventory/CraftComplexRecipe.java
@@ -9,13 +9,13 @@ import org.bukkit.craftbukkit.util.CraftNamespacedKey;
 import org.bukkit.inventory.ComplexRecipe;
 import org.bukkit.inventory.ItemStack;
 
-public class CraftComplexRecipe implements CraftRecipe, ComplexRecipe {
-
-    private final NamespacedKey key;
+public class CraftComplexRecipe extends org.bukkit.inventory.CraftingRecipe implements CraftRecipe, ComplexRecipe { // Paper - make CraftComplexRecipe extend CraftingRecipe
+    // Paper - make CraftComplexRecipe extend CraftingRecipe - move to parent
     private final CustomRecipe recipe;
 
     public CraftComplexRecipe(NamespacedKey key, CustomRecipe recipe) {
-        this.key = key;
+        super(key, ItemStack.empty()); // Paper - make CraftComplexRecipe extend CraftingRecipe - super
+        // Paper - make CraftComplexRecipe extend CraftingRecipe - move to parent
         this.recipe = recipe;
     }
 
@@ -24,10 +24,7 @@ public class CraftComplexRecipe implements CraftRecipe, ComplexRecipe {
         return CraftItemStack.asCraftMirror(this.recipe.getResultItem(RegistryAccess.EMPTY));
     }
 
-    @Override
-    public NamespacedKey getKey() {
-        return this.key;
-    }
+    // Paper - make CraftComplexRecipe extend CraftingRecipe - move to parent
 
     @Override
     public void addToCraftingManager() {
