package org.bukkit.loot;

import java.util.Collection;
import java.util.Random;
import org.bukkit.Keyed;
import org.bukkit.inventory.Inventory;
import org.bukkit.inventory.ItemStack;

/**
 * LootTables are technical files that represent what items should be in
 * naturally generated containers, what items should be dropped when killing a
 * mob, or what items can be fished.
 * <br>
 * See the <a href="https://minecraft.wiki/w/Loot_table">
 * Minecraft Wiki</a> for more information.
 */
public interface LootTable extends Keyed {

    /**
     * Returns a mutable list of loot generated by this LootTable.
     *
     * @param random the random instance to use to generate loot
     * @param context context within to populate loot
     * @return a list of ItemStacks
     * @deprecated Use {@link io.papermc.paper.loot.LootTableManager#createGenerator(LootTable)} 
     *             and {@link io.papermc.paper.loot.LootGenerator#generateLoot(io.papermc.paper.loot.LootContext)} instead.
     *             The old LootContext API is fundamentally broken and cannot properly handle all loot table parameters.
     */
    @Deprecated(since = "1.21.4", forRemoval = true)
    Collection<ItemStack> populateLoot(Random random, LootContext context);

    /**
     * Attempt to fill an inventory with this LootTable's loot.
     *
     * @param inventory the inventory to fill
     * @param random the random instance to use to generate loot
     * @param context context within to populate loot
     * @deprecated Use {@link io.papermc.paper.loot.LootTableManager#createGenerator(LootTable)} 
     *             and {@link io.papermc.paper.loot.LootGenerator#fillInventory(Inventory, io.papermc.paper.loot.LootContext)} instead.
     *             The old LootContext API is fundamentally broken and cannot properly handle all loot table parameters.
     */
    @Deprecated(since = "1.21.4", forRemoval = true)
    void fillInventory(Inventory inventory, Random random, LootContext context);
}
