From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: Mickey42302 <bgoodwin423@gmail.com>
Date: Mon, 10 Nov 2025 20:13:52 -0500
Subject: [PATCH] Add vanilla spawn protection bypass


diff --git a/net/minecraft/server/dedicated/DedicatedServer.java b/net/minecraft/server/dedicated/DedicatedServer.java
index 354b48c88b113c4048e258f2402aad2647d3c364..8a55ac72d89027637ac074e330c6e49178991ba0 100644
--- a/net/minecraft/server/dedicated/DedicatedServer.java
+++ b/net/minecraft/server/dedicated/DedicatedServer.java
@@ -677,6 +677,8 @@ public class DedicatedServer extends MinecraftServer implements ServerInterface
             return false;
         } else if (this.spawnProtectionRadius() <= 0) {
             return false;
+        } else if (player instanceof ServerPlayer serverPlayer && serverPlayer.getBukkitEntity().hasPermission("minecraft.spawn-protection.bypass")) {
+            return false;
         } else {
             BlockPos blockPos = respawnData.pos();
             int abs = Mth.abs(pos.getX() - blockPos.getX());
