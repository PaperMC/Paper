From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: Mickey42302 <bgoodwin423@gmail.com>
Date: Mon, 10 Nov 2025 20:37:14 -0500
Subject: [PATCH] Add flight bypass nodes


diff --git a/net/minecraft/server/network/ServerGamePacketListenerImpl.java b/net/minecraft/server/network/ServerGamePacketListenerImpl.java
index 9b6d3528fbbe2800d57f8ff8164b586628ee2619..092261baeff155d18026074bf1f9db17bcb20431 100644
--- a/net/minecraft/server/network/ServerGamePacketListenerImpl.java
+++ b/net/minecraft/server/network/ServerGamePacketListenerImpl.java
@@ -707,6 +707,7 @@ public class ServerGamePacketListenerImpl
                 this.clientVehicleIsFloating = verticalDelta >= -0.03125
                     && !flag
                     && !this.server.allowFlight()
+                    && !this.player.getBukkitEntity().hasPermission("minecraft.flight.bypass.vehicle")
                     && !rootVehicle.isFlyingVehicle()
                     && !rootVehicle.isNoGravity()
                     && this.noBlocksAround(rootVehicle);
@@ -1684,6 +1685,7 @@ public class ServerGamePacketListenerImpl
                                         && !this.server.allowFlight()
                                         && !this.player.getAbilities().mayfly
                                         && !this.player.hasEffect(MobEffects.LEVITATION)
+                                        && !this.player.getBukkitEntity().hasPermission("minecraft.flight.bypass.client")
                                         && !isFallFlying
                                         && !isAutoSpinAttack
                                         && this.noBlocksAround(this.player);
