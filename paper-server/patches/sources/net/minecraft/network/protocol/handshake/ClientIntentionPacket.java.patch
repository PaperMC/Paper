From 6a0255d07a09045c7b0d3db3fa88ccfd06092226 Mon Sep 17 00:00:00 2001
From: File <noreply+automated@papermc.io>
Date: Sun, 20 Apr 1997 14:37:42 +0100
Subject: [PATCH] paper File Patches


diff --git a/net/minecraft/network/protocol/handshake/ClientIntentionPacket.java b/net/minecraft/network/protocol/handshake/ClientIntentionPacket.java
index 12cfaa8b1d876e25aec125aadb357f408eff3a52..d9c4a695ee96042d81aac78dbe77410911acd92e 100644
--- a/net/minecraft/network/protocol/handshake/ClientIntentionPacket.java
+++ b/net/minecraft/network/protocol/handshake/ClientIntentionPacket.java
@@ -20,7 +20,7 @@ public record ClientIntentionPacket(int protocolVersion, String hostName, int po
     }
 
     private ClientIntentionPacket(FriendlyByteBuf buffer) {
-        this(buffer.readVarInt(), buffer.readUtf(255), buffer.readUnsignedShort(), ClientIntent.byId(buffer.readVarInt()));
+        this(buffer.readVarInt(), buffer.readUtf(Short.MAX_VALUE), buffer.readUnsignedShort(), ClientIntent.byId(buffer.readVarInt())); // Spigot - increase max hostName length
     }
 
     private void write(FriendlyByteBuf buffer) {
