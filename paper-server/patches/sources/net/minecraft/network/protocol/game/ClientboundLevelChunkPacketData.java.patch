--- a/net/minecraft/network/protocol/game/ClientboundLevelChunkPacketData.java
+++ b/net/minecraft/network/protocol/game/ClientboundLevelChunkPacketData.java
@@ -50,7 +_,7 @@
     public ClientboundLevelChunkPacketData(final RegistryFriendlyByteBuf input, final int x, final int z) {
         this.heightmaps = HEIGHTMAPS_STREAM_CODEC.decode(input);
         int size = input.readVarInt();
-        if (size > 2097152) {
+        if (size > 2097152) { // Paper - diff on change - if this changes, update PacketEncoder
             throw new RuntimeException("Chunk Packet trying to allocate too much memory on read.");
         } else {
             this.buffer = new byte[size];
@@ -154,6 +_,7 @@
             CompoundTag tag = blockEntity.getUpdateTag(blockEntity.getLevel().registryAccess());
             BlockPos pos = blockEntity.getBlockPos();
             int xz = SectionPos.sectionRelative(pos.getX()) << 4 | SectionPos.sectionRelative(pos.getZ());
+            blockEntity.sanitizeSentNbt(tag); // Paper - Sanitize sent data
             return new ClientboundLevelChunkPacketData.BlockEntityInfo(xz, pos.getY(), blockEntity.getType(), tag.isEmpty() ? null : tag);
         }
     }
