--- a/net/minecraft/network/syncher/EntityDataSerializers.java
+++ b/net/minecraft/network/syncher/EntityDataSerializers.java
@@ -51,10 +_,31 @@
     public static final EntityDataSerializer<Optional<Component>> OPTIONAL_COMPONENT = EntityDataSerializer.forValueType(
         ComponentSerialization.TRUSTED_OPTIONAL_STREAM_CODEC
     );
+    // Paper start - do not obfuscate items send as entity data
+    public static final StreamCodec<RegistryFriendlyByteBuf, ItemStack> OBFUSCATED_ITEM_CODEC = new net.minecraft.network.codec.StreamCodec<>() {
+        @Override
+        public net.minecraft.world.item.ItemStack decode(final net.minecraft.network.RegistryFriendlyByteBuf buffer) {
+            return ItemStack.OPTIONAL_STREAM_CODEC.decode(buffer);
+        }
+
+        @Override
+        public void encode(final net.minecraft.network.RegistryFriendlyByteBuf buffer, final net.minecraft.world.item.ItemStack value) {
+            try (final io.papermc.paper.util.SafeAutoClosable ignored = io.papermc.paper.util.sanitizer.ItemObfuscationSession.withContext(c -> c.level(io.papermc.paper.util.sanitizer.ItemObfuscationSession.ObfuscationLevel.OVERSIZED))) {
+                ItemStack.OPTIONAL_STREAM_CODEC.encode(buffer, value);
+            }
+        }
+    };
+    // Paper end - do not obfuscate items send as entity data
     public static final EntityDataSerializer<ItemStack> ITEM_STACK = new EntityDataSerializer<ItemStack>() {
         @Override
         public StreamCodec<? super RegistryFriendlyByteBuf, ItemStack> codec() {
-            return ItemStack.OPTIONAL_STREAM_CODEC;
+            // Paper start - do not obfuscate items send as entity data
+            if (io.papermc.paper.configuration.GlobalConfiguration.get().anticheat.obfuscation.items.obfuscateInEntityData) {
+                return OBFUSCATED_ITEM_CODEC;
+            } else {
+                return ItemStack.OPTIONAL_STREAM_CODEC;
+            }
+            // Paper end - do not obfuscate items send as entity data
         }
 
         @Override
