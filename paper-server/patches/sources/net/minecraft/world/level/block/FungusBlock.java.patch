From 6a0255d07a09045c7b0d3db3fa88ccfd06092226 Mon Sep 17 00:00:00 2001
From: File <noreply+automated@papermc.io>
Date: Sun, 20 Apr 1997 14:37:42 +0100
Subject: [PATCH] paper File Patches


diff --git a/net/minecraft/world/level/block/FungusBlock.java b/net/minecraft/world/level/block/FungusBlock.java
index 67690bc49d6d92ad90f1ff3825358e9742764ba5..9711efb088bd0da9168e9bcd0496bd7caddd2974 100644
--- a/net/minecraft/world/level/block/FungusBlock.java
+++ b/net/minecraft/world/level/block/FungusBlock.java
@@ -72,6 +72,17 @@ public class FungusBlock extends VegetationBlock implements BonemealableBlock {
 
     @Override
     public void performBonemeal(ServerLevel level, RandomSource random, BlockPos pos, BlockState state) {
-        this.getFeature(level).ifPresent(holder -> holder.value().place(level, level.getChunkSource().getGenerator(), random, pos));
+        this.getFeature(level)
+            // CraftBukkit start
+            .map((value) -> {
+                if (this == Blocks.WARPED_FUNGUS) {
+                    SaplingBlock.treeType = org.bukkit.TreeType.WARPED_FUNGUS;
+                } else if (this == Blocks.CRIMSON_FUNGUS) {
+                    SaplingBlock.treeType = org.bukkit.TreeType.CRIMSON_FUNGUS;
+                }
+                return value;
+            })
+            .ifPresent(holder -> holder.value().place(level, level.getChunkSource().getGenerator(), random, pos));
+        // CraftBukkit end
     }
 }
