--- a/net/minecraft/world/level/block/entity/ConduitBlockEntity.java
+++ b/net/minecraft/world/level/block/entity/ConduitBlockEntity.java
@@ -164,8 +_,20 @@
     }
 
     private static void applyEffects(final Level level, final BlockPos worldPosition, final List<BlockPos> effectBlocks) {
+        // CraftBukkit start
+        ConduitBlockEntity.applyEffects(level, worldPosition, ConduitBlockEntity.getRange(effectBlocks));
+    }
+
+    public static int getRange(List<BlockPos> effectBlocks) {
+        // CraftBukkit end
         int activeSize = effectBlocks.size();
         int effectRange = activeSize / 7 * 16;
+        // CraftBukkit start
+        return effectRange;
+    }
+
+    private static void applyEffects(Level level, BlockPos worldPosition, int effectRange) { // i = effect range in blocks
+        // CraftBukkit end
         int x = worldPosition.getX();
         int y = worldPosition.getY();
         int z = worldPosition.getZ();
@@ -174,7 +_,7 @@
         if (!players.isEmpty()) {
             for (Player player : players) {
                 if (worldPosition.closerThan(player.blockPosition(), effectRange) && player.isInWaterOrRain()) {
-                    player.addEffect(new MobEffectInstance(MobEffects.CONDUIT_POWER, 260, 0, true, true));
+                    player.addEffect(new MobEffectInstance(MobEffects.CONDUIT_POWER, 260, 0, true, true), org.bukkit.event.entity.EntityPotionEffectEvent.Cause.CONDUIT); // CraftBukkit
                 }
             }
         }
@@ -183,13 +_,19 @@
     private static void updateAndAttackTarget(
         final ServerLevel level, final BlockPos worldPosition, final BlockState blockState, final ConduitBlockEntity entity, final boolean isActive
     ) {
+        // CraftBukkit start - add "damageTarget" boolean
+        updateAndAttackTarget(level, worldPosition, blockState, entity, isActive, true);
+    }
+
+    public static void updateAndAttackTarget(ServerLevel level, BlockPos worldPosition, BlockState blockState, ConduitBlockEntity entity, boolean isActive, boolean damageTarget) {
+        // CraftBukkit end - add "damageTarget" boolean
         EntityReference<LivingEntity> newDestroyTarget = updateDestroyTarget(entity.destroyTarget, level, worldPosition, isActive);
         LivingEntity targetEntity = EntityReference.getLivingEntity(newDestroyTarget, level);
-        if (targetEntity != null) {
-            level.playSound(
-                null, targetEntity.getX(), targetEntity.getY(), targetEntity.getZ(), SoundEvents.CONDUIT_ATTACK_TARGET, SoundSource.BLOCKS, 1.0F, 1.0F
-            );
-            targetEntity.hurtServer(level, level.damageSources().magic(), 4.0F);
+        if (damageTarget && targetEntity != null) { // CraftBukkit
+            if (targetEntity.hurtServer(level, level.damageSources().magic().eventBlockDamager(level, worldPosition), 4.0F)) // CraftBukkit - move up
+                level.playSound(
+                    null, targetEntity.getX(), targetEntity.getY(), targetEntity.getZ(), SoundEvents.CONDUIT_ATTACK_TARGET, SoundSource.BLOCKS, 1.0F, 1.0F
+                );
         }
 
         if (!Objects.equals(newDestroyTarget, entity.destroyTarget)) {
