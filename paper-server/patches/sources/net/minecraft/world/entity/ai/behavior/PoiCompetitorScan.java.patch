--- a/net/minecraft/world/entity/ai/behavior/PoiCompetitorScan.java
+++ b/net/minecraft/world/entity/ai/behavior/PoiCompetitorScan.java
@@ -22,13 +_,32 @@
                         level.getPoiManager()
                             .getType(pos.pos())
                             .ifPresent(
-                                poiType -> i.<List<LivingEntity>>get(nearestEntities)
-                                    .stream()
-                                    .filter(v -> v instanceof Villager && v != body)
-                                    .map(v -> (Villager)v)
-                                    .filter(LivingEntity::isAlive)
-                                    .filter(nearbyVillager -> competesForSameJobsite(pos, poiType, nearbyVillager))
-                                    .reduce(body, PoiCompetitorScan::selectWinner)
+                                // Paper start - Improve performance of PoiCompetitorScan by unrolling stream
+                                // The previous logic used Stream#reduce to simulate a form of single-iteration bubble sort
+                                // in which the "winning" villager would maintain MemoryModuleType.JOB_SITE while all others
+                                // would lose said memory module type by passing each "current winner" and incoming next
+                                // villager to #selectWinner.
+                                poiType -> {
+                                    final List<LivingEntity> livingEntities = i.get(nearestEntities);
+
+                                    Villager winner = body;
+                                    for (final LivingEntity other : livingEntities) {
+                                        if (other == body) {
+                                            continue;
+                                        }
+                                        if (!(other instanceof final Villager otherVillager)) {
+                                            continue;
+                                        }
+                                        if (!other.isAlive()) {
+                                            continue;
+                                        }
+                                        if (!competesForSameJobsite(pos, poiType, otherVillager)) {
+                                            continue;
+                                        }
+                                        winner = selectWinner(winner, otherVillager);
+                                    }
+                                }
+                                // Paper end - Improve performance of PoiCompetitorScan by unrolling stream
                             );
                         return true;
                     }
