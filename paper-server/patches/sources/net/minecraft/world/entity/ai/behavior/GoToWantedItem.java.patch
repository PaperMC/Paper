--- a/net/minecraft/world/entity/ai/behavior/GoToWantedItem.java
+++ b/net/minecraft/world/entity/ai/behavior/GoToWantedItem.java
@@ -37,6 +_,21 @@
                                 && item.closerThan(body, maxDistToWalk)
                                 && body.level().getWorldBorder().isWithinBounds(item.blockPosition())
                                 && body.canPickUpLoot()) {
+                                // CraftBukkit start
+                                if (body instanceof net.minecraft.world.entity.animal.allay.Allay) {
+                                    org.bukkit.event.entity.EntityTargetEvent event = org.bukkit.craftbukkit.event.CraftEventFactory.callEntityTargetEvent(body, item, org.bukkit.event.entity.EntityTargetEvent.TargetReason.CLOSEST_ENTITY);
+
+                                    if (event.isCancelled()) {
+                                        return false;
+                                    }
+                                    if (!(event.getTarget() instanceof org.bukkit.craftbukkit.entity.CraftItem targetItem)) { // Paper - only erase allay memory on non-item targets
+                                        wantedItem.erase();
+                                        return false; // Paper - only erase allay memory on non-item targets
+                                    }
+
+                                    item = targetItem.getHandle();
+                                }
+                                // CraftBukkit end
                                 WalkTarget target = new WalkTarget(new EntityTracker(item, false), speedModifier, 0);
                                 lookTarget.set(new EntityTracker(item, true));
                                 walkTarget.set(target);
