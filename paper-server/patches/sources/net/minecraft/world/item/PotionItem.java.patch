--- a/net/minecraft/world/item/PotionItem.java
+++ b/net/minecraft/world/item/PotionItem.java
@@ -40,6 +_,16 @@
         PotionContents potionContents = itemStack.getOrDefault(DataComponents.POTION_CONTENTS, PotionContents.EMPTY);
         BlockState blockState = level.getBlockState(pos);
         if (context.getClickedFace() != Direction.DOWN && blockState.is(BlockTags.CONVERTABLE_TO_MUD) && potionContents.is(Potions.WATER)) {
+            // Paper start
+            if (!org.bukkit.craftbukkit.event.CraftEventFactory.callEntityChangeBlockEvent(player, pos, Blocks.MUD.defaultBlockState())) {
+                if (itemStack.getCount() > 1 || player.hasInfiniteMaterials()) {
+                    player.containerMenu.sendAllDataToRemote();
+                } else {
+                    player.containerMenu.forceHeldSlot(context.getHand());
+                }
+                return InteractionResult.PASS;
+            }
+            // Paper end
             level.playSound(null, pos, SoundEvents.GENERIC_SPLASH, SoundSource.BLOCKS, 1.0F, 1.0F);
             player.setItemInHand(context.getHand(), ItemUtils.createFilledResult(itemStack, player, new ItemStack(Items.GLASS_BOTTLE)));
             if (!level.isClientSide()) {
