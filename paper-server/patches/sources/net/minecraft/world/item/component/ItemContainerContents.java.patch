--- a/net/minecraft/world/item/component/ItemContainerContents.java
+++ b/net/minecraft/world/item/component/ItemContainerContents.java
@@ -31,6 +_,7 @@
     public static final StreamCodec<RegistryFriendlyByteBuf, ItemContainerContents> STREAM_CODEC = ItemStackTemplate.STREAM_CODEC
         .apply(ByteBufCodecs::optional)
         .<List<Optional<ItemStackTemplate>>>apply(ByteBufCodecs.list(256))
+        .apply(ByteBufCodecs::increaseDepth) // Paper - Track codec depth
         .map(ItemContainerContents::new, c -> c.items);
     public final List<Optional<ItemStackTemplate>> items;
     private final int hashCode;
