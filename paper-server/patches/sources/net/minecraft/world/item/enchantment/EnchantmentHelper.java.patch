--- a/net/minecraft/world/item/enchantment/EnchantmentHelper.java
+++ b/net/minecraft/world/item/enchantment/EnchantmentHelper.java
@@ -51,9 +_,15 @@
         return itemEnchantments.getLevel(enchantment);
     }
 
+    // Paper start - allow force in updateEnchantments
     public static ItemEnchantments updateEnchantments(ItemStack stack, Consumer<ItemEnchantments.Mutable> updater) {
+        return updateEnchantments(stack, false, updater);
+    }
+
+    public static ItemEnchantments updateEnchantments(ItemStack stack, boolean force, Consumer<ItemEnchantments.Mutable> updater) {
+        // Paper end
         DataComponentType<ItemEnchantments> componentType = getComponentType(stack);
-        ItemEnchantments itemEnchantments = stack.get(componentType);
+        ItemEnchantments itemEnchantments = force ? stack.get(componentType) : stack.getOrDefault(componentType, ItemEnchantments.EMPTY); // Paper - force
         if (itemEnchantments == null) {
             return ItemEnchantments.EMPTY;
         } else {
