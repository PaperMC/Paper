--- a/net/minecraft/world/item/enchantment/EnchantmentHelper.java
+++ b/net/minecraft/world/item/enchantment/EnchantmentHelper.java
@@ -53,8 +_,14 @@
     }
 
     public static ItemEnchantments updateEnchantments(final ItemStack itemStack, final Consumer<ItemEnchantments.Mutable> consumer) {
+    // Paper start - allowing updating enchantments on items without component
+        return updateEnchantments(stack, updater, false);
+    }
+
+    public static ItemEnchantments updateEnchantments(ItemStack stack, Consumer<ItemEnchantments.Mutable> updater, final boolean createComponentIfMissing) {
+    // Paper end - allowing updating enchantments on items without component
         DataComponentType<ItemEnchantments> componentType = getComponentType(itemStack);
-        ItemEnchantments oldEnchantments = itemStack.get(componentType);
+        ItemEnchantments oldEnchantments = createComponentIfMissing ? stack.getOrDefault(componentType, ItemEnchantments.EMPTY) : itemStack.get(componentType); // Paper - allowing updating enchantments on items without component
         if (oldEnchantments == null) {
             return ItemEnchantments.EMPTY;
         } else {
