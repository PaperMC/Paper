--- a/net/minecraft/world/item/enchantment/Enchantment.java
+++ b/net/minecraft/world/item/enchantment/Enchantment.java
@@ -186,6 +_,11 @@
     }
 
     public boolean canEnchant(ItemStack stack) {
+        // Paper start - Fix canEnchant() ignoring exclusive_set
+        for (Holder<Enchantment> incompatibleEnchantment : this.exclusiveSet()) {
+            if (stack.getEnchantments().keySet().contains(incompatibleEnchantment)) {
+                return false;
+            }
+        }
+        // Paper end - Fix canEnchant() ignoring exclusive_set
         return this.definition.supportedItems().contains(stack.getItemHolder());
     }
 
