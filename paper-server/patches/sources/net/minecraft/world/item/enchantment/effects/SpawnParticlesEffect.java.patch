From 6a0255d07a09045c7b0d3db3fa88ccfd06092226 Mon Sep 17 00:00:00 2001
From: File <noreply+automated@papermc.io>
Date: Sun, 20 Apr 1997 14:37:42 +0100
Subject: [PATCH] paper File Patches


diff --git a/net/minecraft/world/item/enchantment/effects/SpawnParticlesEffect.java b/net/minecraft/world/item/enchantment/effects/SpawnParticlesEffect.java
index 24567235763432b9ab98d7c076cec6c2b909bb8f..1b4cc3d5a9d6ea66e3ae89248d27aced7f73ef75 100644
--- a/net/minecraft/world/item/enchantment/effects/SpawnParticlesEffect.java
+++ b/net/minecraft/world/item/enchantment/effects/SpawnParticlesEffect.java
@@ -58,8 +58,13 @@ public record SpawnParticlesEffect(
         Vec3 knownMovement = entity.getKnownMovement();
         float bbWidth = entity.getBbWidth();
         float bbHeight = entity.getBbHeight();
-        level.sendParticles(
+        // Paper start - Hide soul speed particles for vanished players
+        level.sendParticlesSource(
+            entity,
             this.particle,
+            false,
+            false,
+        // Paper end - Hide soul speed particles for vanished players
             this.horizontalPosition.getCoordinate(origin.x(), origin.x(), bbWidth, random),
             this.verticalPosition.getCoordinate(origin.y(), origin.y() + bbHeight / 2.0F, bbHeight, random),
             this.horizontalPosition.getCoordinate(origin.z(), origin.z(), bbWidth, random),
