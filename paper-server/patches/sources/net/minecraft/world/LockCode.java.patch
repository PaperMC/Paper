--- a/net/minecraft/world/LockCode.java
+++ b/net/minecraft/world/LockCode.java
@@ -22,9 +_,15 @@
         }
     }
 
+    @io.papermc.paper.annotation.DoNotUse @Deprecated // Paper - use new variant for event compatibility
     public boolean canUnlock(Player player) {
-        return player.isSpectator() || this.unlocksWith(player.getMainHandItem());
-    }
+        return player.isSpectator() || this.unlocksWith(player.getMainHandItem()); // Paper - diff on change
+    }
+    // Paper start - allow overriding key item
+    public boolean canUnlock(Player player, ItemStack keyItem) {
+        return player.isSpectator() || this.unlocksWith(keyItem);
+    }
+    // Paper end - allow overriding key item
 
     public static LockCode fromTag(ValueInput input) {
         return input.read("lock", CODEC).orElse(NO_LOCK);
