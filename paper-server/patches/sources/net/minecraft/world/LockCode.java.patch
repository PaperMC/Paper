--- a/net/minecraft/world/LockCode.java
+++ b/net/minecraft/world/LockCode.java
@@ -22,8 +_,14 @@
         }
     }
 
+    @io.papermc.paper.annotation.DoNotUse @Deprecated // Paper - use new variant for event compatibility
     public boolean canUnlock(Player player) {
-        return player.isSpectator() || this.unlocksWith(player.getMainHandItem());
+        // Paper start - allow overriding key item
+        return canUnlock(player, player.getMainHandItem());
+    }
+    public boolean canUnlock(Player player, final ItemStack item) {
+        // Paper end - allow overriding key item
+        return player.isSpectator() || this.unlocksWith(item); // Paper - allow overriding key item
     }
 
     public static LockCode fromTag(ValueInput input) {
