--- a/net/minecraft/server/commands/SummonCommand.java
+++ b/net/minecraft/server/commands/SummonCommand.java
@@ -78,7 +_,7 @@
         BlockPos blockPos = BlockPos.containing(pos);
         if (!Level.isInSpawnableBounds(blockPos)) {
             throw INVALID_POSITION.create();
-        } else if (source.getLevel().getDifficulty() == Difficulty.PEACEFUL && !type.value().isAllowedInPeaceful()) {
+        } else if (source.getLevel().getDifficulty() == Difficulty.PEACEFUL && !type.value().isAllowedInPeaceful(tag)) { // Paper - check peaceful override
             throw ERROR_FAILED_PEACEFUL.create();
         } else {
             CompoundTag entityTag = nbt.copy();
@@ -86,6 +_,7 @@
             ServerLevel level = source.getLevel();
             Entity entity = EntityType.loadEntityRecursive(entityTag, level, EntitySpawnReason.COMMAND, e -> {
                 e.snapTo(pos.x, pos.y, pos.z, e.getYRot(), e.getXRot());
+                entity1.spawnReason = org.bukkit.event.entity.CreatureSpawnEvent.SpawnReason.COMMAND; // Paper - Entity#getEntitySpawnReason
                 return e;
             });
             if (entity == null) {
@@ -95,7 +_,7 @@
                     mob.finalizeSpawn(source.getLevel(), source.getLevel().getCurrentDifficultyAt(entity.blockPosition()), EntitySpawnReason.COMMAND, null);
                 }
 
-                if (!level.tryAddFreshEntityWithPassengers(entity)) {
+                if (!level.tryAddFreshEntityWithPassengers(entity, org.bukkit.event.entity.CreatureSpawnEvent.SpawnReason.COMMAND)) { // CraftBukkit - pass a spawn reason of "COMMAND"
                     throw ERROR_DUPLICATE_UUID.create();
                 } else {
                     return entity;
