--- a/net/minecraft/server/commands/RideCommand.java
+++ b/net/minecraft/server/commands/RideCommand.java
@@ -54,7 +_,7 @@
         Entity currentVehicle = target.getVehicle();
         if (currentVehicle != null) {
             throw ERROR_ALREADY_RIDING.create(target.getDisplayName(), currentVehicle.getDisplayName());
-        } else if (vehicle.is(EntityType.PLAYER)) {
+        } else if (vehicle.getType() == EntityType.PLAYER && !io.papermc.paper.configuration.GlobalConfiguration.get().commands.rideCommandAllowPlayerAsVehicle) { // Paper - allow player as vehicle
             throw ERROR_MOUNTING_PLAYER.create();
         } else if (target.getSelfAndPassengers().anyMatch(e -> e == vehicle)) {
             throw ERROR_MOUNTING_LOOP.create();
