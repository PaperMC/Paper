--- a/net/minecraft/core/component/DataComponentType.java
+++ b/net/minecraft/core/component/DataComponentType.java
@@ -80,11 +_,11 @@
         static class SimpleType<T> implements DataComponentType<T> {
             @Nullable
             private final Codec<T> codec;
-            private final StreamCodec<? super RegistryFriendlyByteBuf, T> streamCodec;
+            private final java.util.function.Supplier<StreamCodec<? super RegistryFriendlyByteBuf, T>> streamCodec; // Paper
 
             SimpleType(@Nullable Codec<T> codec, StreamCodec<? super RegistryFriendlyByteBuf, T> streamCodec) {
                 this.codec = codec;
-                this.streamCodec = streamCodec;
+                this.streamCodec = com.google.common.base.Suppliers.memoize(() ->  io.papermc.paper.util.DataSanitizationUtil.get(this, streamCodec)); // Paper
             }
 
             @Nullable
@@ -95,7 +_,7 @@
 
             @Override
             public StreamCodec<? super RegistryFriendlyByteBuf, T> streamCodec() {
-                return this.streamCodec;
+                return this.streamCodec.get(); // Paper
             }
 
             @Override
