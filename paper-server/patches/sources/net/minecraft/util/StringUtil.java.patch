From 6a0255d07a09045c7b0d3db3fa88ccfd06092226 Mon Sep 17 00:00:00 2001
From: File <noreply+automated@papermc.io>
Date: Sun, 20 Apr 1997 14:37:42 +0100
Subject: [PATCH] paper File Patches


diff --git a/net/minecraft/util/StringUtil.java b/net/minecraft/util/StringUtil.java
index f157ca1d1225621ebf236e18531070a7160a6e26..77947e6915facee44588943fcd3e5b513de37e77 100644
--- a/net/minecraft/util/StringUtil.java
+++ b/net/minecraft/util/StringUtil.java
@@ -85,6 +85,25 @@ public class StringUtil {
         return stringBuilder.toString();
     }
 
+    // Paper start - Username validation
+    public static boolean isReasonablePlayerName(final String name) {
+        if (name.isEmpty() || name.length() > 16) {
+            return false;
+        }
+
+        for (int i = 0, len = name.length(); i < len; ++i) {
+            final char c = name.charAt(i);
+            if ((c >= 'a' && c <= 'z') || (c >= 'A' && c <= 'Z') || (c >= '0' && c <= '9') || (c == '_' || c == '.')) {
+                continue;
+            }
+
+            return false;
+        }
+
+        return true;
+    }
+    // Paper end - Username validation
+
     public static boolean isWhitespace(int character) {
         return Character.isWhitespace(character) || Character.isSpaceChar(character);
     }
