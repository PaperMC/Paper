--- a/net/minecraft/commands/execution/tasks/BuildContexts.java
+++ b/net/minecraft/commands/execution/tasks/BuildContexts.java
@@ -29,7 +_,7 @@
     public static final DynamicCommandExceptionType ERROR_FORK_LIMIT_REACHED = new DynamicCommandExceptionType(
         forkLimit -> Component.translatableEscape("command.forkLimit", forkLimit)
     );
-    private final String commandInput;
+    protected final String commandInput; // Paper - private -> protected
     private final ContextChain<T> command;
 
     public BuildContexts(String commandInput, ContextChain<T> command) {
@@ -168,6 +_,11 @@
 
         @Override
         public void execute(T source, ExecutionContext<T> executionContext, Frame frame) {
+            // Paper start - function command event
+            if (!new io.papermc.paper.event.function.FunctionCommandEvent(((net.minecraft.commands.CommandSourceStack) source).getBukkitSender(), commandInput).callEvent()) {
+                return;
+            }
+            // Paper end - function command event
             this.traceCommandStart(executionContext, frame);
             this.execute(source, List.of(source), executionContext, frame, ChainModifiers.DEFAULT);
         }
