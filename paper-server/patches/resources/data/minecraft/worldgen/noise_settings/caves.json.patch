--- a/data/minecraft/worldgen/noise_settings/caves.json
+++ b/data/minecraft/worldgen/noise_settings/caves.json
@@ -110,10 +_,11 @@
         "if_true": {
           "type": "minecraft:not",
           "invert": {
-            "type": "minecraft:vertical_gradient",
+            "type": "paper:optionally_flat_bedrock_condition_source",
             "false_at_and_above": {
               "below_top": 0
             },
+            "is_roof": true,
             "random_name": "minecraft:bedrock_roof",
             "true_at_and_below": {
               "below_top": 5
@@ -130,10 +_,11 @@
       {
         "type": "minecraft:condition",
         "if_true": {
-          "type": "minecraft:vertical_gradient",
+          "type": "paper:optionally_flat_bedrock_condition_source",
           "false_at_and_above": {
             "above_bottom": 5
           },
+          "is_roof": false,
           "random_name": "minecraft:bedrock_floor",
           "true_at_and_below": {
             "above_bottom": 0
