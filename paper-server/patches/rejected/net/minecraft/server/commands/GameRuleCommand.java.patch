From c8366d72279d30331daff185f7b263159a86ff4d Mon Sep 17 00:00:00 2001
From: File <noreply+automated@papermc.io>
Date: Sun, 20 Apr 1997 06:37:42 -0700
Subject: [PATCH] paper File Patches


diff --git a/net/minecraft/server/commands/GameRuleCommand.java b/net/minecraft/server/commands/GameRuleCommand.java
index 7bbd6dd6756cf640656333a4df1d38f21124a25b..6dc29d44ac92e5cf93ad1a26c5a5b73a89e08bdf 100644
--- a/net/minecraft/server/commands/GameRuleCommand.java
+++ b/net/minecraft/server/commands/GameRuleCommand.java
@@ -37,8 +37,7 @@ public class GameRuleCommand {
 
     private static <T> int setRule(CommandContext<CommandSourceStack> context, GameRule<T> rule) {
         CommandSourceStack commandSourceStack = context.getSource();
-        T argument = context.getArgument("value", rule.valueClass());
-        commandSourceStack.getLevel().getGameRules().set(rule, argument, context.getSource().getServer());
+        T argument = org.bukkit.craftbukkit.event.CraftEventFactory.handleGameRuleSet(rule, context.getArgument("value", rule.valueClass()), commandSourceStack.getLevel(), context.getSource().getBukkitSender()).value(); // Paper - per-world game rules and event
         commandSourceStack.sendSuccess(() -> Component.translatable("commands.gamerule.set", rule.id(), rule.serialize(argument)), true);
         return rule.getCommandResult(argument);
     }
