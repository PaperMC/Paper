From c8366d72279d30331daff185f7b263159a86ff4d Mon Sep 17 00:00:00 2001
From: File <noreply+automated@papermc.io>
Date: Sun, 20 Apr 1997 06:37:42 -0700
Subject: [PATCH] paper File Patches


diff --git a/net/minecraft/world/entity/ai/behavior/VillagerMakeLove.java b/net/minecraft/world/entity/ai/behavior/VillagerMakeLove.java
index 4fafbe81bb2b2bfc8ea170f4de313d4e36ccffe8..35aec6c3aa2f09f13954fda67902b3c975f566e3 100644
--- a/net/minecraft/world/entity/ai/behavior/VillagerMakeLove.java
+++ b/net/minecraft/world/entity/ai/behavior/VillagerMakeLove.java
@@ -111,11 +111,17 @@ public class VillagerMakeLove extends Behavior<Villager> {
         if (breedOffspring == null) {
             return Optional.empty();
         } else {
-            parent.setAge(6000);
-            partner.setAge(6000);
             breedOffspring.setAge(-24000);
+            // Paper - Move age setting down
             breedOffspring.snapTo(parent.getX(), parent.getY(), parent.getZ(), 0.0F, 0.0F);
-            level.addFreshEntityWithPassengers(breedOffspring);
+            // CraftBukkit start - call EntityBreedEvent
+            if (org.bukkit.craftbukkit.event.CraftEventFactory.callEntityBreedEvent(breedOffspring, parent, partner, null, null, 0).isCancelled()) {
+                return Optional.empty();
+            }
+            parent.setAge(6000);
+            partner.setAge(6000);
+            level.addFreshEntityWithPassengers(breedOffspring, org.bukkit.event.entity.CreatureSpawnEvent.SpawnReason.BREEDING);
+            // CraftBukkit end - call EntityBreedEvent
             level.broadcastEntityEvent(breedOffspring, EntityEvent.LOVE_HEARTS);
             return Optional.of(breedOffspring);
         }
